# Сайт example.com в Docker

## Структура проекта ##

* zone_tmpl - артефакты docker-compose.yaml для

* src - файлы сайта которые будут маппиться к контейнеру системы

* srcdb - файл дампа БД для импорта

* nginx_tmpl - nginx-конфиг для доступа к проекту снаружи.

## Разворачивание ##
1) Клонируем репозиторий
2) Ложим архив файлов сайта в ./src
3) Ложим MySQL дамп в ./srcdb
4) Настраиваем в ./zone_tmpl/env имя зоны и внешний docker порт.
5) Настраиваем в ./zone_tmpl/envx параметр APP_URL (д.б. равен DNS имени сайта зоны). 
   При необходимости можно откорректировать остальные параметры.
6) Создаем симлинки:
  ```
  cd ./zone_tmpl && ln -s ../srcdb srcdb && ln -s ../src src 
  ```
7) Настраиваем внешний nginx на базе шаблона из ./nginx_tmpl
8) Запускаем проект: 
  ```
  docker-compose up -d --build
  ```
